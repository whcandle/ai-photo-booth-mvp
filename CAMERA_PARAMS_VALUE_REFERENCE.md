# 相机参数值完整对照表

## 📋 说明

本文档提供所有 7 个相机参数的完整值对照表，包括：
- **直观值**（用户输入/Kiosk 使用）
- **EDSDK 编码值**（底层相机使用）
- **说明**（参数含义）

**注意：** 编码值可能因相机型号而异，建议先通过 `/property/desc` 接口获取相机实际支持的候选值。

---

## 1. ISO 感光度 (ISO)

### 对照表

| 直观值 | EDSDK 编码值 | 说明 | 候选值范围 |
|--------|-------------|------|-----------|
| AUTO | 0 | 自动 ISO | 0 |
| 100 | 72 (0x48) | ISO 100 | 72 |
| 200 | 80 (0x50) | ISO 200 | 80 |
| 400 | 88 (0x58) | ISO 400 | 88 |
| 800 | 96 (0x60) | ISO 800 | 96 |
| 1600 | 104 (0x68) | ISO 1600 | 104 |
| 3200 | 112 (0x70) | ISO 3200 | 112 |
| 6400 | 120 (0x78) | ISO 6400 | 120 |

### 实际相机候选值示例
```
[0, 72, 75, 77, 80, 83, 85, 88, 91, 93, 96, 99, 101, 104, 107, 109, 112, 115, 117, 120, 123, 125, 128, 131, 133, 136, 139, 141, 144, 147, 149, 152]
```

### 使用示例
```json
{
  "iso": 1600
}
```
转换为：`ISO = 104`

---

## 2. 白平衡 (WhiteBalance / WB)

### 对照表

| 直观值 | EDSDK 编码值 | 说明 | 候选值范围 |
|--------|-------------|------|-----------|
| AUTO | 0 | 自动白平衡 | 0 |
| DAYLIGHT | 1 | 日光 | 1 |
| SHADE | 2 | 阴影 | 2 |
| CLOUDY | 3 | 阴天 | 3 |
| TUNGSTEN | 4 | 钨丝灯 | 4 |
| FLUORESCENT | 5 | 白色荧光灯 | 5 |
| FLASH | 6 | 闪光灯 | 6 |
| KELVIN | 7 | 色温 | 7 |

### 实际相机候选值示例
```
[0, 23, 1, 8, 2, 3, 4, 5, 6, 9]
```
**注意：** 某些相机可能支持自定义白平衡（23, 8, 9），但当前转换器暂不支持。

### 使用示例
```json
{
  "whiteBalance": "TUNGSTEN"
}
```
转换为：`WB = 4`

---

## 3. 曝光补偿 (ExposureCompensationEv / ExposureComp)

### 对照表

| EV 值 | EDSDK 编码值 | 说明 | 候选值范围 |
|-------|-------------|------|-----------|
| -3.0 | 232 | -3.0 EV（减少进光） | 232 |
| -2.7 | 235 | -2.7 EV | 235 |
| -2.3 | 237 | -2.3 EV | 237 |
| -2.0 | 240 | -2.0 EV | 240 |
| -1.7 | 243 | -1.7 EV | 243 |
| -1.3 | 245 | -1.3 EV | 245 |
| -1.0 | 248 | -1.0 EV | 248 |
| -0.7 | 251 | -0.7 EV | 251 |
| -0.3 | 253 | -0.3 EV | 253 |
| 0.0 | 0 | 0 EV（无补偿） | 0 |
| +0.3 | 3 | +0.3 EV（增加进光） | 3 |
| +0.7 | 5 | +0.7 EV | 5 |
| +1.0 | 8 | +1.0 EV | 8 |
| +1.3 | 11 | +1.3 EV | 11 |
| +1.7 | 13 | +1.7 EV | 13 |
| +2.0 | 16 | +2.0 EV | 16 |
| +2.3 | 19 | +2.3 EV | 19 |
| +2.7 | 21 | +2.7 EV | 21 |
| +3.0 | 24 | +3.0 EV | 24 |

### 实际相机候选值示例
```
[232, 235, 237, 240, 243, 245, 248, 251, 253, 0, 3, 5, 8, 11, 13, 16, 19, 21, 24]
```

### 使用示例
```json
{
  "exposureCompensationEv": 0.3
}
```
转换为：`ExposureComp = 3`

**注意：** 输入值会四舍五入到最近的 0.3 步进。

---

## 4. 画面风格 (PictureStyle)

### 对照表

| 直观值 | EDSDK 编码值 | 说明 | 候选值范围 |
|--------|-------------|------|-----------|
| STANDARD | 129 | 标准 | 129 |
| PORTRAIT | 130 | 人像 | 130 |
| LANDSCAPE | 131 | 风光 | 131 |
| NEUTRAL | 132 | 中性 | 132 |
| FAITHFUL | 133 | 可靠设置 | 133 |
| MONOCHROME | 134 | 单色 | 134 |

### 实际相机候选值示例
```
[135, 129, 130, 131, 136, 132, 133, 134, 33, 34, 35]
```
**注意：** 某些相机可能支持自定义风格（135, 136, 33-35），但当前转换器暂不支持。

### 使用示例
```json
{
  "pictureStyle": "PORTRAIT"
}
```
转换为：`PictureStyle = 130`

---

## 5. 光圈 (Aperture / APERTURE)

### 对照表

| 直观值 | EDSDK 编码值 | 说明 | 候选值范围 |
|--------|-------------|------|-----------|
| F2.2 | 21 | F2.2 | 21 |
| F2.5 | 23 | F2.5 | 23 |
| F2.8 | 24 | F2.8 | 24 |
| F3.2 | 27 | F3.2 | 27 |
| F3.5 | 29 | F3.5 | F3.5 |
| F4.0 | 32 | F4.0 | 32 |
| F4.5 | 35 | F4.5 | 35 |
| F5.0 | 37 | F5.0 | 37 |
| F5.6 | 40 | F5.6 | 40 |
| F6.3 | 43 | F6.3 | 43 |
| F7.1 | 45 | F7.1 | 45 |
| F8.0 | 48 | F8.0 | 48 |
| F9.0 | 51 | F9.0 | 51 |
| F10 | 53 | F10 | 53 |
| F11 | 56 | F11 | 56 |
| F13 | 59 | F13 | 59 |
| F14 | 61 | F14 | 61 |
| F16 | 64 | F16 | 64 |
| F18 | 67 | F18 | 67 |
| F20 | 69 | F20 | 69 |
| F22 | 72 | F22 | 72 |
| F25 | 75 | F25 | 75 |
| F29 | 77 | F29 | 77 |
| F32 | 80 | F32 | 80 |

### 实际相机候选值示例
```
[21, 24, 27, 29, 32, 35, 37, 40, 43, 45, 48, 51, 53, 56, 59, 61, 64, 67, 69, 72, 75, 77, 80]
```

### 使用示例
```json
{
  "aperture": "F2.8"
}
```
转换为：`APERTURE = 24`

**注意：** 
- 编码值越大，光圈越小（进光量越少）
- 格式必须为 "F" + 数字（如 "F2.8", "F4.0"）

---

## 6. 快门速度 (ShutterSpeed / SHUTTER_SPEED)

### 对照表（常用值）

| 直观值 | EDSDK 编码值 | 说明 | 候选值范围 |
|--------|-------------|------|-----------|
| 1/60 | 48 | 1/60 秒 | 48 |
| 1/125 | 64 | 1/125 秒 | 64 |
| 1/250 | 72 | 1/250 秒 | 72 |
| 1/500 | 80 | 1/500 秒 | 80 |

### 完整对照表（扩展值）

| 直观值 | EDSDK 编码值 | 说明 |
|--------|-------------|------|
| 30 | 16 | 30 秒 |
| 25 | 19 | 25 秒 |
| 20 | 21 | 20 秒 |
| 15 | 24 | 15 秒 |
| 13 | 27 | 13 秒 |
| 10 | 29 | 10 秒 |
| 8 | 32 | 8 秒 |
| 6 | 35 | 6 秒 |
| 5 | 37 | 5 秒 |
| 4 | 40 | 4 秒 |
| 3 | 43 | 3 秒 |
| 2.5 | 45 | 2.5 秒 |
| 2 | 48 | 2 秒 |
| 1.6 | 51 | 1.6 秒 |
| 1.3 | 53 | 1.3 秒 |
| 1 | 56 | 1 秒 |
| 0.8 | 59 | 0.8 秒 |
| 0.6 | 61 | 0.6 秒 |
| 0.5 | 64 | 0.5 秒 (1/2 秒) |
| 1/4 | 72 | 1/4 秒 |
| 1/5 | 75 | 1/5 秒 |
| 1/6 | 77 | 1/6 秒 |
| 1/8 | 80 | 1/8 秒 |
| 1/10 | 83 | 1/10 秒 |
| 1/13 | 85 | 1/13 秒 |
| 1/15 | 88 | 1/15 秒 |
| 1/20 | 91 | 1/20 秒 |
| 1/25 | 93 | 1/25 秒 |
| 1/30 | 96 | 1/30 秒 |
| 1/40 | 99 | 1/40 秒 |
| 1/50 | 101 | 1/50 秒 |
| 1/60 | 48 | 1/60 秒 |
| 1/80 | 51 | 1/80 秒 |
| 1/100 | 56 | 1/100 秒 |
| 1/125 | 64 | 1/125 秒 |
| 1/160 | 67 | 1/160 秒 |
| 1/200 | 69 | 1/200 秒 |
| 1/250 | 72 | 1/250 秒 |
| 1/320 | 75 | 1/320 秒 |
| 1/400 | 77 | 1/400 秒 |
| 1/500 | 80 | 1/500 秒 |
| 1/640 | 131 | 1/640 秒（估算） |
| 1/800 | 133 | 1/800 秒（估算） |
| 1/1000 | 136 | 1/1000 秒（估算） |
| 1/1250 | 139 | 1/1250 秒（估算） |
| 1/1600 | 141 | 1/1600 秒（估算） |
| 1/2000 | 144 | 1/2000 秒（估算） |
| 1/2500 | 147 | 1/2500 秒（估算） |
| 1/3200 | 149 | 1/3200 秒（估算） |
| 1/4000 | 152 | 1/4000 秒（估算） |

### 实际相机候选值示例
```
[16, 19, 21, 24, 27, 29, 32, 35, 37, 40, 43, 45, 48, 51, 53, 56, 59, 61, 64, 67, 69, 72, 75, 77, 80, 83, 85, 88, 91, 93, 96, 99, 101, 104, 107, 109, 112, 115, 117, 120, 123, 125, 128, 131, 133, 136, 139, 141, 144, 147, 149, 152, 155, 157, 160]
```

### 使用示例
```json
{
  "shutterSpeed": "1/60"
}
```
转换为：`SHUTTER_SPEED = 48`

**注意：** 
- 编码值越大，快门越快（曝光时间越短）
- 格式支持分数（"1/60"）或小数（"0.5"）或整数（"2"）
- 部分值可能需要根据实际相机调整

---

## 7. 测光模式 (MeteringMode / METERING_MODE)

### 对照表

| 直观值 | EDSDK 编码值 | 说明 | 候选值范围 |
|--------|-------------|------|-----------|
| EVALUATIVE | 1 | 评价测光（矩阵测光） | 1 |
| PARTIAL | 3 | 局部测光 | 3 |
| SPOT | 4 | 点测光 | 4 |
| CENTER_WEIGHTED | 5 | 中央重点测光 | 5 |

### 实际相机候选值示例
```
[3, 4, 1, 5]
```

### 使用示例
```json
{
  "meteringMode": "CENTER_WEIGHTED"
}
```
转换为：`METERING_MODE = 5`

---

## 📊 预设参数对照示例

### preset_night_indoor（夜晚·室内）

| 参数 | 预设值（直观） | EDSDK 编码值 | 说明 |
|------|--------------|-------------|------|
| ISO | 1600 | 104 | ISO 1600 |
| WhiteBalance | TUNGSTEN | 4 | 钨丝灯 |
| ExposureCompensationEv | 0.3 | 3 | +0.3 EV |
| PictureStyle | PORTRAIT | 130 | 人像 |
| Aperture | F2.8 | 24 | F2.8 |
| ShutterSpeed | 1/60 | 48 | 1/60 秒 |
| MeteringMode | CENTER_WEIGHTED | 5 | 中央重点测光 |

### preset_day_outdoor（白天·室外）

| 参数 | 预设值（直观） | EDSDK 编码值 | 说明 |
|------|--------------|-------------|------|
| ISO | 100 | 72 | ISO 100 |
| WhiteBalance | DAYLIGHT | 1 | 日光 |
| ExposureCompensationEv | 0.0 | 0 | 0 EV |
| PictureStyle | STANDARD | 129 | 标准 |
| Aperture | F4.0 | 32 | F4.0 |
| ShutterSpeed | 1/250 | 72 | 1/250 秒 |
| MeteringMode | EVALUATIVE | 1 | 评价测光 |

---

## 🔍 如何获取相机实际候选值

### 方法 1: 使用 CameraAgent API

```bash
# 获取 ISO 候选值
curl.exe http://localhost:18080/property/desc?key=ISO

# 获取光圈候选值
curl.exe http://localhost:18080/property/desc?key=APERTURE
```

### 方法 2: PowerShell 批量查询

```powershell
$params = @("ISO", "WB", "PictureStyle", "ExposureComp", "APERTURE", "SHUTTER_SPEED", "METERING_MODE")

foreach ($param in $params) {
    $result = Invoke-RestMethod -Uri "http://localhost:18080/property/desc?key=$param" -Method Get
    if ($result.ok) {
        Write-Host "$param 候选值: $($result.candidates -join ', ')" -ForegroundColor Cyan
        Write-Host "$param 当前值: $($result.current)" -ForegroundColor Green
    }
}
```

---

## ⚠️ 注意事项

### 1. 编码值可能因相机型号而异

不同相机型号的 EDSDK 编码值可能不同，建议：
- 先通过 `/property/desc` 获取实际候选值
- 根据实际值调整映射表
- 或实现动态映射表加载

### 2. 参数值格式要求

- **ISO**: Integer（如 100, 200, 1600）
- **WhiteBalance**: String（如 "DAYLIGHT", "TUNGSTEN"）
- **ExposureCompensationEv**: Double（如 0.0, 0.3, -0.3）
- **PictureStyle**: String（如 "STANDARD", "PORTRAIT"）
- **Aperture**: String（如 "F2.8", "F4.0"），必须以 "F" 开头
- **ShutterSpeed**: String（如 "1/60", "1/125"），支持分数格式
- **MeteringMode**: String（如 "EVALUATIVE", "CENTER_WEIGHTED"）

### 3. 参数值范围限制

- **ISO**: 通常 100-6400，某些相机可能支持更高
- **ExposureComp**: 通常 -3.0 到 +3.0 EV，步进 0.3
- **Aperture**: 取决于镜头，通常 F1.4-F32
- **ShutterSpeed**: 取决于相机，通常 30s-1/4000s

### 4. 相机模式限制

- **AUTO 模式**: 某些参数可能无法手动设置
- **M/Av/Tv 模式**: 支持手动设置所有参数
- 建议：将相机切换到 M 档或 Av 档进行测试

---

## 📝 快速参考

### 常用参数值速查

| 参数 | 常用值 | 编码值 |
|------|--------|--------|
| ISO | 100, 200, 400, 800, 1600 | 72, 80, 88, 96, 104 |
| WB | DAYLIGHT, TUNGSTEN, FLUORESCENT | 1, 4, 5 |
| PictureStyle | STANDARD, PORTRAIT | 129, 130 |
| Aperture | F2.8, F4.0, F5.6, F8.0 | 24, 32, 40, 48 |
| ShutterSpeed | 1/60, 1/125, 1/250, 1/500 | 48, 64, 72, 80 |
| MeteringMode | EVALUATIVE, CENTER_WEIGHTED | 1, 5 |

---

## 🔗 相关文档

- `PHASE_C3_DEVELOPMENT_SUMMARY.md` - 开发总结文档
- `CAMERA_PARAMS_CONVERTER_EXTENDED_TEST.md` - 参数转换测试文档
- `CHECK_CAMERA_PARAMS.md` - 查看相机参数指南

---

**文档版本：** 1.0  
**最后更新：** 2026年1月  
**维护者：** AI Photo Booth Team
